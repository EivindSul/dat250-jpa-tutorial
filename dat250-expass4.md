# Technical problems
Had some issues with typing, mainly that I used List and ArrayList when the tests expected Set.

I changed my variables to Set and HashSet, and it worked fine.

I also made some add functions to the Collection variables, as opposed to just getters and setters.

# Link to Experiment 2
This is the project directory, but the actual code is located at:

[root dir](https://github.com/EivindSul/dat250-jpa-tutorial)

[code](https://github.com/EivindSul/dat250-jpa-tutorial/tree/master/src/main/java/no/hvl/dat250/jpa/tutorial/creditcards)

# How I inspected the database tables

## Explain the used database and how/when it runs.
The used database is H2. It runs when it is called by the entitymanager in the project.

## Can you provide the SQL used to create the table Customer?
By setting these to true in persistence.xml:
```xml
<property name="hibernate.show_sql" value="true"/>
<property name="hibernate.format_sql" value="true"/>
```
and running:
```bash
gradle test --tests no.hvl.dat250.jpa.tutorial.creditcards.driver.CreditCardsMainTest -i
```
I got the outout for customer:
```sql
Hibernate:
    create table Customer (
        id bigint generated by default as identity,
        name varchar(255),
        primary key (id)
    )
```

## Find a way to inspect the database tables being created and create a database schema in your report. Do the created tables correspond to your initial thoughts regarding the exercise?
I used the same command as in the previous question, copied the output,
and put it into schema.sql in the root of this repository.

I also removed the select and insert statements to only keep the part about database tables being created.

The tables look pretty much just how I expected them to. JPA automatically made extra tables for many to many relations.

I dont understand the part where constraints are added, though. Here is one:
```sql
alter table if exists Address_Customer
add constraint FK63i2k9l07dovc8lcm1yvb4xqm
foreign key (owners_id)
references Customer;
```
It seems to just use a random ID here.

# Pending issues
Solving the tasks themselves was simple enough.

I found it hard to find good documentation about the behaviour in persistence.xml.
Maybe I just didnt search well enough.
I originally wanted to create the schema through settings in persistence.xml, and I tried 
a few I found on google, but none of them created the file.
